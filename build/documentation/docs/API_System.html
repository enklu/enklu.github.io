<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>System · Enklu Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="A global &lt;code&gt;system&lt;/code&gt; object is provided to scripts. This object describes an API for working with objects outside of a specific experience—like devices or experience management."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="System · Enklu Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://enklu.github.io/documentation/build/documentation/"/><meta property="og:description" content="A global &lt;code&gt;system&lt;/code&gt; object is provided to scripts. This object describes an API for working with objects outside of a specific experience—like devices or experience management."/><meta property="og:image" content="https://enklu.github.io/documentation/build/documentation/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://enklu.github.io/documentation/build/documentation/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/documentation/build/documentation/img/logo/EnkluLogo.svg"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/railscasts.min.css"/><link rel="stylesheet" href="/documentation/build/documentation/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/documentation/build/documentation/js/code-block-buttons.js"></script><script src="/documentation/build/documentation/js/scrollSpy.js"></script><link rel="stylesheet" href="/documentation/build/documentation/css/prism.css"/><link rel="stylesheet" href="/documentation/build/documentation/css/main.css"/><script src="/documentation/build/documentation/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/documentation/build/documentation/"><img class="logo" src="/documentation/build/documentation/img/logo/EnkluLogo_White.svg" alt="Enklu Documentation"/><h2 class="headerTitleWithLogo">Enklu Documentation</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/documentation/build/documentation/./docs/doc1" target="_self">Guides</a></li><li class="siteNavGroupActive"><a href="/documentation/build/documentation/./docs/API_ScriptingLanguages" target="_self">API Reference</a></li><li class=""><a href="/documentation/build/documentation/./docs/FAQ" target="_self">FAQ</a></li><li class=""><a href="/documentation/build/documentation/help" target="_self">Help</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>API Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">API Reference</h3><ul class=""><li class="navListItem"><a class="navItem" href="/documentation/build/documentation/./docs/API_ScriptingLanguages">Scripting Languages</a></li><li class="navListItem"><a class="navItem" href="/documentation/build/documentation/./docs/API_Logging">Logging</a></li><li class="navListItem"><a class="navItem" href="/documentation/build/documentation/./docs/API_Math">Math</a></li><li class="navListItem"><a class="navItem" href="/documentation/build/documentation/./docs/API_Random">Random</a></li><li class="navListItem"><a class="navItem" href="/documentation/build/documentation/./docs/API_Time">Time</a></li><li class="navListItem"><a class="navItem" href="/documentation/build/documentation/./docs/API_Elements">Elements</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/documentation/build/documentation/./docs/API_System">System</a></li><li class="navListItem"><a class="navItem" href="/documentation/build/documentation/./docs/API_App">App</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">System</h1></header><article><div><span><p>A global <code>system</code> object is provided to scripts. This object describes an API for working with objects outside of a specific experience—like devices or experience management.</p>
<h2><a class="anchor" aria-hidden="true" id="system-methods"></a><a href="#system-methods" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>System Methods</h2>
<p>A handful of methods are exposed for managing the system.</p>
<pre><code class="hljs css language-js"><span class="token comment">// Places the origin of the experience at the current device position.</span>
system<span class="token punctuation">.</span><span class="token function">recenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Terminates the application. This does nothing on non-HoloLens targets.</span>
system<span class="token punctuation">.</span><span class="token function">terminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Restarts the application. This does nothing on non-HoloLens targets.</span>
system<span class="token punctuation">.</span><span class="token function">restart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="device"></a><a href="#device" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Device</h2>
<p>Device specific information is available through the <code>device</code> property.</p>
<p>The currently running version of Enklu. This value will vary between platforms, but is always in a semver form.</p>
<pre><code class="hljs css language-js"><span class="token keyword">var</span> v <span class="token operator">=</span> system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>enkluVersion<span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>The version string of UWP. This function returns an empty string on non-UWP platforms.</p>
<pre><code class="hljs css language-js"><span class="token keyword">var</span> v <span class="token operator">=</span> system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>uwpVersion<span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>The battery percentage given as a value between 0 and 1.</p>
<pre><code class="hljs css language-js"><span class="token keyword">var</span> batt <span class="token operator">=</span> system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>battery<span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>A unique id for this hardware. This value is constant between sessions and even application updates. A new install will change the value.</p>
<pre><code class="hljs css language-js"><span class="token keyword">var</span> id <span class="token operator">=</span> system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>hardwareId<span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<h3><a class="anchor" aria-hidden="true" id="video-capture"></a><a href="#video-capture" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Video Capture</h3>
<p>Video Capture is available on devices that support it. Due to the asynchronous nature of underlying libraries, all scripting logic that depends on video capture status should occur in the callbacks provided. If you use video capture in your experience, it's best to call <code>system.device.video.teardown();</code> in an <code>exit()</code> function.</p>
<pre><code class="hljs css language-js"><span class="token comment">// Whether the device is currently recording.</span>
log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Recording: '</span> <span class="token operator">+</span> system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>video<span class="token punctuation">.</span>isRecording<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Gets the device ready to record videos.</span>
system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>video<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">success</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Video ready: '</span> <span class="token operator">+</span> success<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Starts recording a video.</span>
system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>video<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">success</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Recording started: '</span> <span class="token operator">+</span> success<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Starts recording a video to a custom path.</span>
system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>video<span class="token punctuation">.</span><span class="token function">startCustomPath</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">success</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Recording started:'</span> <span class="token operator">+</span> success<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Stops recording a video.</span>
system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>video<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Video saved to: '</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Cleans up video capture on the device.</span>
system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>video<span class="token punctuation">.</span><span class="token function">teardown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<h3><a class="anchor" aria-hidden="true" id="image-capture"></a><a href="#image-capture" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Image Capture</h3>
<p>Image capture is available on devices that support it. Note: This API is likely to change in the future to be more aligned with the video capture API</p>
<pre><code class="hljs css language-js"><span class="token comment">// Optional - Potentially reduces capture() call time on some devices.</span>
system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">warm</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">success</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>success<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Captures an image.</span>
system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">capture</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Image taken: '</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Captures an image with a specific path.</span>
system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">captureCustomPath</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Image taken: '</span> <span class="token operator">+</span> path<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'myImage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

system<span class="token punctuation">.</span>device<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">success</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Image capture aborted: '</span> <span class="token operator">+</span> success<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="experiences"></a><a href="#experiences" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Experiences</h2>
<p>The <code>experience</code> object allows a user to query and load their experiences.</p>
<p>Before using, it's best to call first call <code>refresh()</code>. This will check the network for updates and download any new experience data. Without calling this first, the experience API will be of limited use. Once <code>refresh()</code> has been called, all of the other methods are synchronous.</p>
<pre><code class="hljs css language-js">system<span class="token punctuation">.</span>experiences<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'There was an error!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// handle error</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>Experiences may be retrieved in a variety of ways.</p>
<pre><code class="hljs css language-js"><span class="token comment">// get all of my experiences</span>
<span class="token keyword">var</span> experiences <span class="token operator">=</span> system<span class="token punctuation">.</span>experiences<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// get only specific experiences</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> system<span class="token punctuation">.</span>experiences<span class="token punctuation">.</span><span class="token function">byName</span><span class="token punctuation">(</span><span class="token string">'Zoo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> system<span class="token punctuation">.</span>experiences<span class="token punctuation">.</span><span class="token function">byId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>Each experience data object that comes back will have the following properties:</p>
<pre><code class="hljs css language-js"><span class="token punctuation">{</span>
    id<span class="token punctuation">,</span>          <span class="token comment">// string - unique id of this experience</span>
    name<span class="token punctuation">,</span>        <span class="token comment">// string</span>
    description<span class="token punctuation">,</span> <span class="token comment">// string</span>
    isPublic<span class="token punctuation">,</span>    <span class="token comment">// boolean - true iff experience is publicly shared</span>
    createdAt<span class="token punctuation">,</span>   <span class="token comment">// string - UTC timestamp</span>
    updatedAt    <span class="token comment">// string - UTC timestamp</span>
<span class="token punctuation">}</span>
</code></pre>
<p><br></p>
<p>Finally experiences may be played. Note that these methods require the unique id of the experience.</p>
<pre><code class="hljs css language-js"><span class="token comment">// enter play mode</span>
system<span class="token punctuation">.</span>experiences<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// enter edit mode</span>
system<span class="token punctuation">.</span>experiences<span class="token punctuation">.</span><span class="token function">edit</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="login"></a><a href="#login" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Login</h2>
<p>Scripts can check if a user is logged into an account or using a guest account to view a public or bundled experience. The user can be prompted to login, or logged out through this API as well.</p>
<p>Check if the user is logged in.</p>
<pre><code class="hljs css language-js">log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>system<span class="token punctuation">.</span>isLoggedIn<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>Prompt the user to login.</p>
<pre><code class="hljs css language-js">system<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>Logs out the current user.</p>
<pre><code class="hljs css language-js">system<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="session"></a><a href="#session" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Session</h2>
<p>A session is a timespan (set by <code>start</code> and <code>stop</code> calls) that associates specific player actions with a user. Calling <code>start</code> on the session api will bring up a QR code scanner which will prompt a user to scan a QR code generated for a specific experience. Once the QR is scanned and the session is created, it is possible for any content generation or player action to incorporate session data. For example, snaps which are created and uploaded during an active session will generate an association between the session user and the specific snap taken.</p>
<p>Start a new session:</p>
<pre><code class="hljs css language-js">system<span class="token punctuation">.</span>session<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> sessionInfo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'Could not start session: '</span> <span class="token operator">+</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 

    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Started a new session for user: '</span> <span class="token operator">+</span> sessionInfo<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>Stop a current session:</p>
<pre><code class="hljs css language-js">system<span class="token punctuation">.</span>session<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>Access to the current session information:</p>
<pre><code class="hljs css language-js"><span class="token keyword">var</span> sessionInfo <span class="token operator">=</span> system<span class="token punctuation">.</span>session<span class="token punctuation">.</span>current<span class="token punctuation">;</span>
<span class="token keyword">var</span> sessionId <span class="token operator">=</span> sessionInfo<span class="token punctuation">.</span>sessionId<span class="token punctuation">;</span>
<span class="token keyword">var</span> user <span class="token operator">=</span> sessionInfo<span class="token punctuation">.</span>user<span class="token punctuation">;</span>
<span class="token keyword">var</span> userId <span class="token operator">=</span> user<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token keyword">var</span> inventory <span class="token operator">=</span> user<span class="token punctuation">.</span>items<span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<p>Listen for sessions to start and end from another script:</p>
<pre><code class="hljs css language-js">system<span class="token punctuation">.</span>session<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sessionInfo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Started a new session for user: '</span> <span class="token operator">+</span> sessionInfo<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

system<span class="token punctuation">.</span>session<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'ended'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Session ended'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="user"></a><a href="#user" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>User</h2>
<p>A user is currently bound to each session. While a session represents a specific timeframe within an experience, a user provides a persistent collection of data. Currently, a user consists of <code>id</code> and <code>items</code>.</p>
<p>Check to see if a user has a specific item:</p>
<pre><code class="hljs css language-js">system<span class="token punctuation">.</span>session<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sessionInfo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> user <span class="token operator">=</span> sessionInfo<span class="token punctuation">.</span>user<span class="token punctuation">;</span>
    <span class="token keyword">var</span> items <span class="token operator">=</span> user<span class="token punctuation">.</span>items<span class="token punctuation">;</span>

    <span class="token keyword">var</span> foundItem <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'Light Saber'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            foundItem <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'Found Light Saber: '</span> <span class="token operator">+</span> foundItem<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="inventory"></a><a href="#inventory" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Inventory</h2>
<p>A user may own specific items which will populate on the <code>user</code> object within a <code>session</code>.</p>
<p>Item Properties:</p>
<pre><code class="hljs css language-js"><span class="token punctuation">{</span>
    <span class="token comment">// The inventory item's identifier.</span>
    id<span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>guid</span><span class="token punctuation">></span></span><span class="token plain-text">,

    // The name of the inventory item. 
    name: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span><span class="token plain-text">,

    // A description of the item.
    description: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">></span></span><span class="token plain-text">,

    // The name of the thumbnail as it appears 
    // in the environments inventory bucket.
    thumbnail: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uri</span><span class="token punctuation">></span></span><span class="token plain-text">,

    // The total quantity of the item the user owns.
    quantity: </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">></span></span><span class="token plain-text">
}
</span></code></pre>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="cursor"></a><a href="#cursor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cursor</h2>
<p>By default, the cursor is only visible when it is near an IUX activator. Setting <code>forceShow</code> to be <code>true</code> enables the cursor to always be shown.</p>
<pre><code class="hljs css language-js"><span class="token comment">// Forces the cursor to be shown.</span>
system<span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>forceShow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre>
<p><br></p>
<h2><a class="anchor" aria-hidden="true" id="camera"></a><a href="#camera" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Camera</h2>
<p>The camera's near and far planes can be modified through scripts to modify the default frustum culling ranges.</p>
<pre><code class="hljs css language-js"><span class="token comment">// Changes the near &amp; far planes, measured in meters.</span>
system<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>nearPlane <span class="token operator">=</span> <span class="token number">0.75</span><span class="token punctuation">;</span>
system<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>farPlane <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/documentation/build/documentation/docs/API_Elements"><span class="arrow-prev">← </span><span>Elements</span></a><a class="docs-next button" href="/documentation/build/documentation/docs/API_App"><span>App</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#system-methods">System Methods</a></li><li><a href="#device">Device</a><ul class="toc-headings"><li><a href="#video-capture">Video Capture</a></li><li><a href="#image-capture">Image Capture</a></li></ul></li><li><a href="#experiences">Experiences</a></li><li><a href="#login">Login</a></li><li><a href="#session">Session</a></li><li><a href="#user">User</a></li><li><a href="#inventory">Inventory</a></li><li><a href="#cursor">Cursor</a></li><li><a href="#camera">Camera</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/documentation/build/documentation/" class="nav-home"><img src="/documentation/build/documentation/img/logo/EnkluLogo_White.svg" alt="Enklu Documentation" width="66" height="58"/></a><div><h5>Docs</h5><a href="/documentation/build/documentation/./docs/en/doc1.html">Getting Started</a><a href="/documentation/build/documentation/./docs/en/doc1.html">Guides</a><a href="/documentation/build/documentation/./docs/en/doc3.html">API Reference</a></div><div><h5>Social</h5><a href="https://www.facebook.com/Enklu" target="_blank" rel="noreferrer noopener">Facebook</a><a href="https://www.instagram.com/experience_enklu/" target="_blank" rel="noreferrer noopener">Instagram</a><a href="https://www.linkedin.com/company/enklu" target="_blank" rel="noreferrer noopener">LinkedIn</a><a href="https://twitter.com/experienceenklu" target="_blank" rel="noreferrer noopener">Twitter</a></div><div style="margin-right:9em"><h5>Community</h5><a href="https://github.com/enklu">GitHub</a><a href="https://join.slack.com/t/enklucommunity/shared_invite/zt-ellfjrtd-mA3PiYeNjudv7KyOoNJllw" target="_blank">Slack</a></div></section><section class="copyright">Copyright © 2020 Enklu, Inc.</section></footer></div></body></html>